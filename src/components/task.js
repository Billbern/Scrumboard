import { Component } from "react";
import moment from "moment";


// visual representation of task
export default class Task extends Component {
    
    render(){
        return(
            <div className="bg-white text-sm shadow-lg rounded mb-4 select-none" draggable="true" onDragStart={ (e) =>  this.props.dragStart(e, this.props.data.id) } >
                <div className="py-2 px-3 flex flex-col">
                    {/* tasks data pertaining to id tags and user */}
                    <div className="w-full grid grid-cols-6 pt-1 mb-1.5">
                        <div className="col-span-2">
                            <svg className="w-4 h-4 inline-block fill-current mr-1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                <g transform="translate(-2e-5 -52.17854)">
                                    <path d="m399.712 128.5081h-287.424c-5.633 0-10.199 3.53919-10.199 7.90368v343.5336c0 4.36449 4.566 7.90367 10.199 7.90367h287.424c5.633 0 10.199-3.53918 10.199-7.90367v-343.5336c0-4.36372-4.566-7.90368-10.199-7.90368zm-164.641 7.90368h41.857zm-112.584 335.6307v-327.7262h267.023v327.7262z" style={{strokeWidth: 0.88031}}/>
                                    <g transform="translate(0,-88.85)">
                                        <path d="m342.684 355.284h-5.061c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h5.061c5.633 0 10.199-4.567 10.199-10.199s-4.566-10.199-10.199-10.199z"/>
                                        <path d="m295.457 355.284h-126.141c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h126.141c5.633 0 10.199-4.567 10.199-10.199s-4.566-10.199-10.199-10.199z"/>
                                    </g>
                                    <path d="m342.684 395.091h-173.368c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h173.368c5.633 0 10.199-4.567 10.199-10.199 0-5.631-4.566-10.199-10.199-10.199z"/>
                                    <g transform="translate(0,-88.15)">
                                        <path d="m342.684 419.241h-173.368c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h173.368c5.633 0 10.199-4.567 10.199-10.199 0-5.631-4.566-10.199-10.199-10.199z"/>
                                    </g>
                                    <g transform="translate(0,-153.35)">
                                        <path d="m342.684 355.284h-5.061c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h5.061c5.633 0 10.199-4.567 10.199-10.199s-4.566-10.199-10.199-10.199z"/>
                                        <path d="m295.457 355.284h-126.141c-5.633 0-10.199 4.567-10.199 10.199s4.566 10.199 10.199 10.199h126.141c5.633 0 10.199-4.567 10.199-10.199s-4.566-10.199-10.199-10.199z"/>
                                    </g>
                                </g>
                            </svg>
                            {this.props.data.id}
                        </div>
                        <div className="col-span-3">
                            <div className="bg-white  px-2 border-l-2 border-green-200 shadow w-max ">
                                {this.props.data.tag}
                            </div>
                        </div>
                        <div className="col-span-1">
                            <div className="w-full flex justify-end">
                                {
                                    this.props.data.author ?
                                        this.props.data.author
                                    :
                                        <svg className="h-6 w-6 fill-current" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m256 0c-141.163 0-256 114.837-256 256s114.837 256 256 256 256-114.837 256-256-114.837-256-256-256zm0 490.667c-50.859 0-97.856-16.448-136.341-44.053l55.125-18.389c33.365-13.909 44.48-64 44.48-76.224 0-3.2-1.429-6.208-3.883-8.235-11.925-9.835-24.576-26.901-24.576-39.168 0-14.357-5.867-22.507-11.584-26.496-2.667-7.381-6.976-20.821-7.339-29.291 5.312-0.597 9.451-5.12 9.451-10.603v-56.896c0-30.443 29.077-74.667 74.667-74.667 42.837 0 54.123 18.453 55.552 25.749-0.384 1.365-0.533 2.709-0.405 3.904 0.619 5.781 4.949 8.533 7.275 10.005 3.669 2.325 12.245 7.787 12.245 35.029v56.896c0 5.909 2.859 10.005 8.747 10.005 0.192 0.192 0.448 0.661 0.683 1.131-0.512 8.512-4.651 21.397-7.317 28.736-5.696 3.989-11.584 12.139-11.584 26.496 0 12.267-12.651 29.333-24.576 39.168-2.475 2.027-3.883 5.056-3.883 8.235 0 12.203 11.136 62.315 45.227 76.48l54.379 18.133c-38.466 27.607-85.484 44.055-136.343 44.055zm152.256-56.448c-0.981-3.157-3.243-5.867-6.613-6.997l-56.149-18.688c-19.627-8.171-28.736-39.573-30.869-52.139 14.528-13.504 27.947-33.621 27.947-51.797 0-6.165 1.749-8.555 1.408-8.619 3.328-0.832 6.037-3.2 7.317-6.379 1.045-2.624 10.24-26.069 10.24-41.877 0-0.853-0.107-1.728-0.32-2.581-1.344-5.355-4.48-10.752-9.173-14.123v-49.664c0-30.72-9.365-43.563-19.243-51.008-2.219-15.253-18.56-44.992-76.757-44.992-59.477 0-96 55.915-96 96v49.664c-4.693 3.371-7.829 8.768-9.173 14.123-0.213 0.832-0.32 1.707-0.32 2.581 0 15.808 9.195 39.253 10.24 41.877 1.28 3.179 2.965 5.205 6.293 6.037 0.683 0.405 2.432 2.773 2.432 8.96 0 18.176 13.419 38.293 27.947 51.797-2.133 12.565-11.157 43.925-30.144 51.861l-56.896 18.965c-3.392 1.131-5.653 3.861-6.635 7.04-50.369-43.092-82.455-106.943-82.455-178.26 0-129.387 105.28-234.667 234.667-234.667s234.667 105.28 234.667 234.667c0 71.275-32.064 135.125-82.411 178.219z"/>
                                        </svg>
                                }
                            </div>
                        </div>
                    </div>
                    {/* tasks data pertaining to title */}
                    <div className="w-full text-base py-2 border-b-2 rounded-b">
                        {this.props.data.title}
                    </div>

                    {/* tasks data pertaining to deadline */}
                    <div className="w-full pt-1.5 grid grid-cols-6">
                        {   
                            moment(this.props.data.timed).diff(moment(new Date()), 'days') < 3
                            ? 
                                <span className="w-max col-start-1 col-end-1">
                                    <svg className="h-4 w-4 fill-current text-red-500" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                        <path d="m276.193 58.507v-18.118h14.578c11.153 0 20.194-9.042 20.194-20.194s-9.042-20.195-20.194-20.195h-69.544c-11.153 0-20.194 9.042-20.194 20.194s9.042 20.194 20.194 20.194h14.578v18.118c-115.853 10.254-207.006 107.821-207.006 226.293 0 125.279 101.922 227.201 227.201 227.201s227.201-101.922 227.201-227.201c-1e-3 -118.472-91.155-216.039-207.008-226.292zm0 412.009v-20.124c0-11.153-9.042-20.194-20.194-20.194-11.153 0-20.194 9.042-20.194 20.194v20.124c-86.91-9.385-156.137-78.614-165.522-165.522h20.124c11.153 0 20.194-9.042 20.194-20.194s-9.042-20.194-20.194-20.194h-20.125c9.385-86.91 78.614-156.137 165.522-165.523v20.124c0 11.153 9.042 20.194 20.194 20.194 11.153 0 20.194-9.042 20.194-20.194v-20.126c86.91 9.385 156.137 78.614 165.522 165.523h-20.124c-11.153 0-20.194 9.042-20.194 20.194s9.042 20.194 20.194 20.194h20.126c-9.385 86.911-78.613 156.14-165.523 165.524z"/>
                                        <path d="m317.248 194.99-58.179 58.18c-1.011-0.097-2.034-0.151-3.071-0.151-17.552 0-31.779 14.229-31.779 31.779 0 17.552 14.228 31.779 31.779 31.779s31.779-14.229 31.779-31.779c0-1.037-0.054-2.06-0.151-3.07l58.178-58.18c7.887-7.885 7.887-20.672 0-28.559-7.882-7.886-20.669-7.886-28.556 1e-3z"/>
                                    </svg>
                                </span>
                            :
                                ""
                        }
                        
                        {/* tasks data pertaining to weight or reward */}
                        <span className="w-max col-start-6 col-end-6">
                            <svg className="w-4 h-4 inline-block mr-1 fill-current" viewBox="0 0 489.946 489.946" xmlns="http://www.w3.org/2000/svg">
                                <path d="m203.885 77.033c-22.44-12.922-51.979-20.039-83.172-20.039-31.194 0-60.731 7.117-83.172 20.039-23.991 13.815-37.292 32.68-37.53 53.172h-0.011v229.685c0 40.969 53.023 73.061 120.713 73.061s120.714-32.092 120.714-73.061v-229.403h-5e-3c-0.119-20.601-13.436-39.575-37.537-53.454zm16.542 145.663c0 28.323-45.663 52.251-99.714 52.251-54.05 0-99.713-23.928-99.713-52.251v-3.864c21.566 19.125 57.829 31.447 99.713 31.447 41.885 0 78.147-12.323 99.714-31.447v3.864zm0 45.667c0 28.324-45.663 52.252-99.714 52.252-54.05 0-99.713-23.929-99.713-52.252v-3.863c21.566 19.124 57.829 31.447 99.713 31.447 41.885 0 78.147-12.323 99.714-31.447v3.863zm-199.427 41.805c21.566 19.125 57.829 31.447 99.713 31.447 41.885 0 78.147-12.323 99.714-31.448v3.865c0 28.323-45.663 52.251-99.714 52.251-54.05 0-99.713-23.928-99.713-52.251v-3.864zm199.427-133.141c0 28.323-45.663 52.251-99.714 52.251-54.05 1e-3 -99.713-23.928-99.713-52.251v-4.755c21.566 18.99 57.829 31.225 99.713 31.225 41.885 0 78.147-12.236 99.714-31.225v4.755zm-172.406-81.795c19.303-11.116 45.119-17.237 72.692-17.237 27.574 0 53.39 6.122 72.693 17.237 17.172 9.888 27.021 22.839 27.021 35.531 0 28.043-45.663 51.734-99.714 51.734-54.05 0-99.713-23.691-99.713-51.734 0-12.692 9.849-25.643 27.021-35.531zm72.692 316.72c-54.05 0-99.713-23.841-99.713-52.062v-4.053c21.566 19.124 57.829 31.447 99.713 31.447 41.885 0 78.147-12.323 99.714-31.447v4.054c0 28.22-45.664 52.061-99.714 52.061z"/>
                                <path d="m489.943 262.987c-0.074-20.641-13.396-39.656-37.538-53.558-22.44-12.922-51.979-20.039-83.173-20.039-31.193 0-60.731 7.117-83.172 20.039-24.209 13.94-37.541 33.022-37.541 53.729v0.016 92.406c0 40.801 53.023 72.762 120.713 72.762s120.714-31.961 120.714-72.762v-92.594h-3e-3zm-20.997 46.436c0 28.323-45.663 52.252-99.714 52.252-54.05 0-99.713-23.928-99.713-52.252v-4.755c21.566 18.99 57.828 31.225 99.713 31.225s78.147-12.235 99.714-31.225v4.755zm-172.406-81.795c19.303-11.116 45.119-17.237 72.692-17.237s53.39 6.122 72.693 17.237c17.172 9.888 27.021 22.839 27.021 35.531 0 28.043-45.663 51.734-99.714 51.734-54.05 0-99.713-23.691-99.713-51.734 1e-3 -12.692 9.849-25.643 27.021-35.531zm72.692 179.715c-54.05 0-99.713-23.704-99.713-51.762v-4.353c21.566 19.124 57.828 31.447 99.713 31.447s78.147-12.322 99.714-31.447v4.353c0 28.058-45.663 51.762-99.714 51.762z"/>
                            </svg>
                            {this.props.data.reward}
                        </span>
                    </div>
                </div>
            </div>
        );
    }
}